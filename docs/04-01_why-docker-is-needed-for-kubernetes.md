# 4.1 도커를 알아야 하는 이유

쿠버네티스의 기본 단위는 파드(Pod)이며, 파드는 컨테이너로 구성됨. 이 컨테이너를 생성하고 관리하는 도구가 도커(Docker)이기 때문에, 도커를 먼저 학습한 후 쿠버네티스를 배우는 것이 더 효율적

최근에는 다양한 공급사에서 미리 만들어 둔 컨테이너 이미지를 활용하여, 도커를 몰라도 쿠버네티스 상에 컨테이너 기반 인프라 서비스를 구축할 수 있음.
하지만 쿠버네티스는 본질적으로 컨테이너 기술 위에 구축된 플랫폼이기 때문에, 트러블슈팅을 제대로 하려면 컨테이너에 대한 깊은 이해가 필요

## 4.1.1 파드, 컨테이너, 도커, 쿠버네티스의 관계

- 파드는 워커 노드 단위로 관리
- 워커 노드와 마스터 노드가 모여 쿠버네티스 클러스터를 구성
- 하나의 파드는 하나 이상의 컨테이너로 구성
- 파드는 쿠버네티스로부터 IP를 받아 컨테이너가 외부와 통신할 수 있도록 하고, 컨테이너의 상태를 확인하며 네트워크 및 저장 공간을 공유
⇒ 컨테이너들은 마치 하나의 호스트에 함께 존재하는 것처럼 동작 가능
- 컨테이너를 관리하는 단위가 파드, 파드를 관리하는 것이 워커 노드, 워커 노드를 제어하는 것이 쿠버네티스 마스터
(쿠버네티스 마스터 역시 파드로 구성됨)

> 참고: p.306 그림 4-2 쿠버네티스 클러스터의 구조
> 

컨테이너는 단일 운영체제의 커널을 공유하면서도, 각각 독립된 실행 환경을 제공하는 격리된 공간

> 개발적인 실행 환경
CPU, 네트워크, 메모리와 같은 시스템 자원을 개별적으로 할당받아 독립적으로 사용하는 환경
컨테이너 내부에서 실행되는 애플리케이션은 서로 영향을 주지 않고 독립적으로 작동
> 

> 참고: p.307 그림 4-3 쿠버네티스, 파드 그리고 컨테이너 간의 연결 구조
> 

컨테이너가 독립적으로 작동하기 때문에 여러 개의 컨테이너를 효과적으로 다루기 위한 도구가 필요 ⇒ 도커

## 4.1.2 다양한 컨테이너 관리 도구

- **컨테이너디(containerd)**
Docker사에서 컨테이너 런타임을 분리해 만든 오픈 소스 컨테이너 관리 도구
다양한 시스템과 통합해 컨테이너를 관리할 수 있어 자체적인 컨테이너 관리 도구를 개발하려는 개발자에게 적합
- **크라이오(CRIO)**
레드햇(Red Hat)에서 개발하고, 2019년 클라우드 네이티브 컴퓨팅 재단(CNCF)에 기부된 오픈 소스 프로젝트
다른 도구보다 가볍고 단순하며, CRI(Container Runtime Interface) 규격을 자체 구현하고 있어 별도 구성 요소 없이 쿠버네티스와 통합 가능
자료 부족
- **카타 컨테이너(Kata Containers)**
오픈스택(OpenStack) 재단이 후원하는 오픈 소스 컨테이너 관리 도구
각 컨테이너가 독립적인 커널을 사용하기 때문에, 다른 컨테이너의 영향을 받지 않음
자료 부족
- **도커(Docker)**
Docker사에서 2013년에 만든 컨테이너 관리 도구
사용자가 명령어를 입력하는 CLI(Command Line Interface)와, 명령을 처리하는 데몬(Docker Daemon)으로 구성